

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1. Basic usage &mdash; Reflex v1.8 documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Reflex v1.8 documentation" href="../../index.html" />
    <link rel="up" title="Reflex Tutorials" href="index.html" />
    <link rel="next" title="2. Reactors" href="reactors.html" />
    <link rel="prev" title="Reflex Tutorials" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="reactors.html" title="2. Reactors"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Reflex Tutorials"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Reflex v1.8 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Reflex Tutorials</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="basic-usage">
<h1>1. Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h1>
<p>Basic usage of the system is easy enough. All you have to do is create
an instance of the <tt class="docutils literal"><span class="pre">EventManager</span></tt> class, bind some events, then fire
away! Literally!</p>
<div class="section" id="simple-example">
<h2>1.1. Simple example<a class="headerlink" href="#simple-example" title="Permalink to this headline">¶</a></h2>
<p>This example shows creating an instance of the event manager, binding
some events and then running them! It is quite an easy thing to do, so
fear not.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">#stdlib</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c"># The below imports are important!</span>
<span class="c"># The Event object is used to represent events, and is required for triggering events</span>
<span class="c"># The EventManager object is everything else in the worl!</span>
<span class="kn">from</span> <span class="nn">reflex.data</span> <span class="kn">import</span> <span class="n">Event</span>
<span class="kn">from</span> <span class="nn">reflex.control</span> <span class="kn">import</span> <span class="n">EventManager</span>

<span class="c"># Create our event manager.</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">EventManager</span><span class="p">()</span>

<span class="c"># Create some basic handlers</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;&gt;&gt; Foo handler called!</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;&gt;&gt; Bar received {0}</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">arg</span><span class="p">))</span>

<span class="c"># Create the bindings!</span>
<span class="n">events</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&#39;simple&#39;</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="s">&#39;basic&#39;</span><span class="p">)</span>
<span class="n">events</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&#39;simple&#39;</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="s">&#39;basic2&#39;</span><span class="p">)</span>

<span class="c"># Trigger the events!</span>
<span class="n">events</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="s">&#39;basic&#39;</span><span class="p">))</span>
<span class="n">events</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="s">&#39;basic2&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;arg&#39;</span><span class="p">,</span> <span class="s">&#39;bacon&#39;</span><span class="p">)]))</span>
</pre></div>
</td></tr></table></div>
<p>The above example is trivial and makes the whole concept of reflex seem
pointless! However, if the concepts are applied properly, you can create
an extendable application firing events at extensions with ease.</p>
</div>
<div class="section" id="simple-reactor-example">
<h2>1.2. Simple reactor example<a class="headerlink" href="#simple-reactor-example" title="Permalink to this headline">¶</a></h2>
<p>One of the things that Reflex provides is a standard API for binding
and unbinding events and object methods. To do this, applications should
ideally use the Reactor base class. Below is a simple example of how to
use Reactors.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">#stdlib</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c"># We know what these two imports are for.</span>
<span class="kn">from</span> <span class="nn">reflex.data</span> <span class="kn">import</span> <span class="n">Event</span>
<span class="kn">from</span> <span class="nn">reflex.control</span> <span class="kn">import</span> <span class="n">EventManager</span>
<span class="c"># Import the reactor base class!</span>
<span class="kn">from</span> <span class="nn">reflex.interfaces</span> <span class="kn">import</span> <span class="n">Reactor</span>

<span class="c"># Create a basic Reactor</span>
<span class="k">class</span> <span class="nc">ExampleReactor</span><span class="p">(</span><span class="n">Reactor</span><span class="p">):</span>

    <span class="c"># This is used as the &quot;source&quot; for the bindings.</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Example.&#39;</span>

    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Use this method to bind our events!</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">foo</span><span class="p">,</span> <span class="s">&#39;basic&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bar</span><span class="p">,</span> <span class="s">&#39;basic2&#39;</span><span class="p">)</span>

    <span class="c"># Handlers!</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;&gt;&gt; Foo handler called!</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;&gt;&gt; Bar received {0}</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">arg</span><span class="p">))</span>

<span class="c"># Create our event manager.</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">EventManager</span><span class="p">()</span>

<span class="c"># Create an instance of the Reactor!</span>
<span class="c"># This does not need to be stored anywhere for this example.</span>
<span class="n">ExampleReactor</span><span class="p">(</span><span class="n">events</span><span class="p">)</span>

<span class="c"># Trigger the events!</span>
<span class="n">events</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="s">&#39;basic&#39;</span><span class="p">))</span>
<span class="n">events</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="s">&#39;basic2&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;arg&#39;</span><span class="p">,</span> <span class="s">&#39;whiskey&#39;</span><span class="p">)]))</span>
</pre></div>
</td></tr></table></div>
<p>The Reactor API simplifies creating bindings, as you do not need to
provide the source of the handler when creating bindings.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. Basic usage</a><ul>
<li><a class="reference internal" href="#simple-example">1.1. Simple example</a></li>
<li><a class="reference internal" href="#simple-reactor-example">1.2. Simple reactor example</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Reflex Tutorials</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="reactors.html"
                        title="next chapter">2. Reactors</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/help/tutorials/basic.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="reactors.html" title="2. Reactors"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Reflex Tutorials"
             >previous</a> |</li>
        <li><a href="../../index.html">Reflex v1.8 documentation</a> &raquo;</li>
          <li><a href="index.html" >Reflex Tutorials</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, photofroggy.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>